pre-commit:
  parallel: true
  commands:
    fmt:
      glob: "*.go"
      run: make fmt

    swag:
      glob: "internal/handler/*.go"
      run: make swag

    lint:
      glob: "*.go"
      run: make lint

    test:
      glob: "*.go"
      run: make test-all

pre-push:
  parallel: false
  commands:
    tidy:
      glob: "*.go"
      run: go mod tidy && git diff --exit-code

    lint:
      glob: "*.go"
      run: make lint

    vuln:
      glob: "*.go"
      run: make vuln

    test-race:
      glob: "*.go"
      run: make test-some-race
